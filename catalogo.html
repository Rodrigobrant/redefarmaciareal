<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Catálogo - Farmácias Real</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f8f9fa;
    }
    header {
      background-color: #28a745;
      padding: 15px;
      text-align: center;
      color: #fff;
      font-size: 24px;
      font-weight: bold;
    }
    nav {
      background-color: #218838;
      display: flex;
      justify-content: center;
      padding: 10px;
    }
    nav a {
      color: #fff;
      margin: 0 15px;
      text-decoration: none;
      font-weight: bold;
    }
    h1 {
      text-align: center;
      margin: 20px 0;
    }
    #search {
      display: block;
      margin: 0 auto 20px auto;
      padding: 10px;
      width: 50%;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
      padding: 20px;
    }
    .card {
      background: #fff;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .card img {
      max-width: 100px;
      margin-bottom: 10px;
    }
    .card h3 {
      margin: 10px 0 5px;
      font-size: 18px;
    }
    .card p {
      margin: 5px 0;
      color: #555;
    }
    .price {
      font-size: 18px;
      color: green;
      font-weight: bold;
      margin: 10px 0;
    }
    .whatsapp-btn {
      background: #28a745;
      color: #fff;
      padding: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      margin-top: 10px;
    }
    footer {
      text-align: center;
      padding: 15px;
      background-color: #28a745;
      color: #fff;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <header>Farmácias Real</header>

  <nav>
    <a href="index.html">Início</a>
    <a href="catalogo.html">Catálogo</a>
    <a href="promocoes.html">Promoções</a>
    <a href="informativos.html">Informativos</a>
    <a href="cadastro.html">Cadastro de Clientes</a>
    <a href="atendimento.html">Atendimento</a>
  </nav>

  <h1>Catálogo de Produtos</h1>
  <input type="text" id="search" placeholder="Buscar produto...">

  <div class="grid" id="produtos"></div>

  <footer>© 2025 Farmácias Real - Todos os direitos reservados.</footer>

  <script>
    const url = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTPFvGL_R8uI0miwFf-ApxEfOsqIMiLv4px-xkHTbkmRhvyUgsF9eJlxTJXi7mCX2x7vFKfEoBJ3TLN/pub?gid=608567924&single=true&output=csv";

    async function carregarProdutos() {
      const response = await fetch(url);
      const data = await response.text();
      const linhas = data.split("\n").slice(1);
      const grid = document.getElementById("produtos");

      linhas.forEach(linha => {
        const colunas = linha.split(",");
        if (colunas.length < 4) return;

        const produto = {
          nome: colunas[0],
          descricao: colunas[1],
          preco: colunas[2],
          link: colunas[3]
        };

        const card = document.createElement("div");
        card.className = "card";

        const img = document.createElement("img");
        img.src = "imagens/placeholder.png";
        img.alt = produto.nome;

        const nome = document.createElement("h3");
        nome.textContent = produto.nome;

        const descricao = document.createElement("p");
        descricao.textContent = produto.descricao;

        const price = document.createElement("p");
        price.className = "price";
        // Força exibir duas casas decimais no formato brasileiro
        price.textContent = "R$ " + parseFloat(produto.preco).toFixed(2).replace(".", ",");

        const botao = document.createElement("a");
        botao.className = "whatsapp-btn";
        botao.href = produto.link;
        botao.target = "_blank";
        botao.textContent = "Comprar no WhatsApp";

        card.appendChild(img);
        card.appendChild(nome);
        card.appendChild(descricao);
        card.appendChild(price);
        card.appendChild(botao);

        grid.appendChild(card);
      });
    }

    carregarProdutos();

    document.getElementById("search").addEventListener("input", function () {
      const termo = this.value.toLowerCase();
      const cards = document.querySelectorAll(".card");
      cards.forEach(card => {
        const nome = card.querySelector("h3").textContent.toLowerCase();
        card.style.display = nome.includes(termo) ? "block" : "none";
      });
    });
  </script>
</body>
</html>
