<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
   <!-- SEO B√°sico -->
    <title>Farm√°cias Real ‚Äì Drogaria e Perfumaria em Esplanada-BA</title>
    <meta name="description" content="Farm√°cias Real em Esplanada-BA. Loja f√≠sica at√© 21h e delivery at√© 22h. Medicamentos, perfumaria, vitaminas e muito mais. Pe√ßa pelo WhatsApp!">
    <meta name="keywords" content="farm√°cia em Esplanada, drogaria Esplanada, Farm√°cias Real, rem√©dios delivery Esplanada, perfumaria Esplanada, comprar medicamentos online BA">
    <meta name="author" content="Farm√°cias Real">
    <link rel="stylesheet" href="style.css">
    <!-- SEO Local -->
    <meta property="og:title" content="Farm√°cias Real ‚Äì Drogaria e Perfumaria em Esplanada-BA">
    <meta property="og:description" content="Medicamentos, perfumaria e delivery at√© 00h em Esplanada. A sua sa√∫de √© o nosso compromisso.">
    <meta property="og:image" content="https://redefarmaciareal.com.br/imagem/logo.png"> <!-- substitua pela URL real da sua logo -->
    <meta property="og:url" content="https://redefarmaciareal.com.br/">
    <meta property="og:type" content="website">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="imagem/favicon.png">
    <style>
 /* Barra de aviso superior */
    .top-bar {
      background: #d32f2f;
      color: #fff;
      text-align: center;
      padding: 6px 10px;
      font-size: 14px;
      font-weight: bold;
    }
/* Cabe√ßalho fixo */
.site-header {
  background: #2e7d32;   /* verde completo */
  padding: 8px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: sticky;
  top: 0;
  z-index: 1100; /* fica sobre o conte√∫do */
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

/* Logo */
.logo img {
  height: 160px;      /* aumenta bastante a altura */
  max-width: 320px;   /* permite largura maior */
  object-fit: contain;
  display: block;
  margin: 0 auto;     /* centraliza dentro do fundo verde */
}

/* Barra de busca */
.search-bar {
  flex: 1;
  display: flex;
  justify-content: center;
  margin: 0 20px;
}
.search-bar input {
  width: 100%;
  max-width: 500px;
  padding: 8px 12px;
  border: none;
  border-radius: 20px;
  font-size: 14px;
}

/* A√ß√µes */
.header-actions {
  display: flex;
  align-items: center;
  gap: 15px;
  font-size: 14px;
}
.header-actions a {
  text-decoration: none;
  color: #fff;
  font-weight: bold;
}
.header-actions a:hover {
  color: #ffeb3b;
}
.header-actions img {
  width: 24px;
  height: 24px;
}

/* ---------------- RESPONSIVO ---------------- */
@media (max-width: 768px) {
  .site-header {
    flex-direction: column;
    padding: 10px;
    text-align: center;
  }

  .logo img {
    height: 70px;
    margin-bottom: 6px;
  }

  .search-bar {
    width: 100%;
    margin: 8px 0;
  }

  .search-bar input {
    max-width: 100%;
    font-size: 13px;
  }

  .header-actions {
    gap: 10px;
    font-size: 12px;
    justify-content: center;
    flex-wrap: wrap;
  }

  .header-actions a {
    font-size: 12px;
  }
}
</style>
</head>
<body>
<!-- PapaParse (parser CSV robusto) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js" integrity="" crossorigin="anonymous"></script>
<div id="aviso-topo"></div>
<script>
document.addEventListener('DOMContentLoaded', async () => {
  const container = document.getElementById('ofertas-catalogo') || document.getElementById('promocoes') || document.querySelector('.promo') ;
  if (!container) {
    console.error('Container de promo√ß√µes n√£o encontrado. IDs esperados: ofertas-catalogo, promocoes ou .promo');
    return;
  }

  // === substitua pela sua URL de CSV publicada (Arquivo ‚Üí Publicar na Web ‚Üí CSV) ===
  const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTPFvGL_R8uI0miwFf-ApxEfOsqIMiLv4px-xkHTbkmRhvyUgsF9eJlxTJXi7mCX2x7vFKfEoBJ3TLN/pub?output=csv";

  try {
    const resp = await fetch(CSV_URL);
    if (!resp.ok) {
      console.error('Erro ao buscar CSV:', resp.status, resp.statusText);
      container.innerHTML = `<p>Erro ao carregar ofertas (${resp.status}). Ver console.</p>`;
      return;
    }
    const csvText = await resp.text();

    // Parse seguro com PapaParse
    const parsed = Papa.parse(csvText, { header: true, skipEmptyLines: true });
    console.log('Dados da planilha:', parsed.data);

    // Normaliza chaves (tenta v√°rias varia√ß√µes de nomes)
    const key = (obj, nameOptions) => {
      for (const k of nameOptions) if (k in obj) return obj[k];
      return '';
    };

    const promos = parsed.data.filter(row => {
      const v = key(row, ['Promo√ß√£o','Promocao','promocao','promo√ß√£o','Promo√ßao','Promo√á√£o']);
      return (v || '').toString().trim().toLowerCase() === 'sim';
    });

    if (!promos || promos.length === 0) {
      container.innerHTML = '<p>Nenhuma oferta no momento.</p>';
      return;
    }

    // Monta HTML seguro
    const html = promos.map(p => {
      const nome = key(p, ['Nome','nome','Produto','produto']) || 'Produto';
      const desc = key(p, ['Descri√ß√£o','Descricao','descricao']) || '';
      const preco = key(p, ['Pre√ßo','Preco','preco']) || '';
      const img = key(p, ['Imagem','imagem']) || 'imagem/placeholder.png';
      const whats = key(p, ['WhatsApp','Whats','whatsapp','whats']) || '5575998623295';
      const waText = encodeURIComponent(`Ol√°, quero este produto: ${nome}`);
      const waLink = `https://wa.me/${whats.replace(/[^0-9]/g,'') || '5575998623295'}?text=${waText}`;

      return `
        <div class="promo-item">
          <img src="${img}" alt="${nome}" loading="lazy" style="max-width:120px; height:auto; display:block; margin:0 auto 8px;" />
          <h3 style="margin:6px 0">${nome}</h3>
          <p style="color:#666; font-size:0.95rem; margin:6px 0">${desc}</p>
          <p style="font-weight:800; color:#16713a; margin:6px 0">R$ ${preco}</p>
          <a class="whatsapp-btn" href="${waLink}" target="_blank" rel="noopener noreferrer">Comprar</a>
        </div>
      `;
    }).join('');

    container.innerHTML = html;

    // === ativa busca apenas ap√≥s promo terem sido adicionadas ===
    const searchInput = document.getElementById('searchInput') || document.querySelector('.search-bar input') || document.querySelector('.search-container input');
    if (searchInput) {
      searchInput.addEventListener('input', () => {
        const q = searchInput.value.trim().toLowerCase();
        document.querySelectorAll('.promo-item').forEach(it => {
          const name = (it.querySelector('h3')?.textContent || '').toLowerCase();
          it.style.display = (!q || name.includes(q)) ? '' : 'none';
        });
      });
    }

  } catch (err) {
    console.error('Erro ao carregar/parsear CSV:', err);
    container.innerHTML = '<p>Erro ao carregar ofertas. Ver console.</p>';
  }
});
</script>
<!-- Header principal -->
  <header>
    <div class="logo">
      <img src="imagem/logo.png" alt="Farm√°cias Real">
    </div>
    <div class="search-bar">
      <input type="text" placeholder="üîç O que voc√™ procura hoje?">
    </div>
    <div class="header-actions">
      <a href="#">Cadastro</a>
      <a href="#">Fazer Pedidos</a>
      <a href="#"><img src="imagem/carrinho.png" alt="Carrinho" style="width:26px;height:26px;"></a>
    </div>
  </header>
  <!-- Menu hamb√∫rguer   <div class="menu-toggle">‚ò∞ Menu</div> -->

  <!-- Menu principal -->
  <nav class="main-menu">
    <ul>
      <li><a href="#"><img src="imagem/medicamentos.png"><div>Medicamentos</div></a></li>
      <li><a href="#"><img src="imagem/higiene.png"><div>Higiene</div></a></li>
      <li><a href="#"><img src="imagem/beleza.png"><div>Beleza</div></a></li>
      <li><a href="#"><img src="imagem/promocoes.png"><div>Promo√ß√µes</div></a></li>
    </ul>
  </nav>
</body>
<!-- Espa√ßo para n√£o sobrepor o conte√∫do -->
<div style="height: 90px;"></div>
   <!-- üö© Carrossel de Banners -->
<div class="carousel">
    <div class="slides">
        <img src="imagem/banner1.png" class="active" alt="Oferta 1">
        <img src="imagem/banner2.png" alt="Oferta 2">
        <img src="imagem/banner3.png" alt="Oferta 3">
        <img src="imagem/banner4.png" alt="Oferta 4">
        <img src="imagem/banner5.png" alt="Oferta 5">
        <img src="imagem/banner6.png" alt="Oferta 6">
        <img src="imagem/banner7.png" alt="Oferta 7">
     </div>

    <!-- Bot√µes -->
    <button class="prev">&#10094;</button>
    <button class="next">&#10095;</button>

    <!-- Indicadores -->
    <div class="dots">
        <span class="dot active"></span>
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
    </div>
</div>

<style>
.carousel {
    position: relative;
    max-width: 100%;
    margin: auto;
    overflow: hidden;
    border-radius: 10px;
}
.carousel img {
    width: 100%;
    display: none;
}
.carousel img.active {
    display: block;
}
.prev, .next {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(0,0,0,0.5);
    color: white;
    border: none;
    font-size: 24px;
    padding: 10px;
    cursor: pointer;
    border-radius: 50%;
}
.prev { left: 10px; }
.next { right: 10px; }
.dots {
    text-align: center;
    position: absolute;
    bottom: 15px;
    width: 100%;
}
.dot {
    height: 12px;
    width: 12px;
    margin: 0 5px;
    background-color: #bbb;
    border-radius: 50%;
    display: inline-block;
    cursor: pointer;
}
.dot.active {
    background-color: #7ED957;
}
</style>

    <script>
        let slideIndex = 0;
         const slides = document.querySelectorAll(".carousel img");
         const dots = document.querySelectorAll(".dot");

    function showSlide(n) {
        slides.forEach((slide, i) => {
        slide.classList.remove("active");
        dots[i].classList.remove("active");
    });
        slides[n].classList.add("active");
        dots[n].classList.add("active");
        slideIndex = n;
     }

     function nextSlide() {
        slideIndex = (slideIndex + 1) % slides.length;
        showSlide(slideIndex);
     }

    function prevSlide() {
        slideIndex = (slideIndex - 1 + slides.length) % slides.length;
        showSlide(slideIndex);
     }

        document.querySelector(".next").addEventListener("click", nextSlide);
        document.querySelector(".prev").addEventListener("click", prevSlide);
        dots.forEach((dot, index) => {
        dot.addEventListener("click", () => showSlide(index));
    });

         setInterval(nextSlide, 4000); // troca autom√°tico a cada 4s
    </script>
  <!-- OFERTAS ESPECIAIS -->
  <section>
    <h2>OFERTAS ESPECIAIS</h2>
    <div class="ofertas-carousel">
        <div class="ofertas-slides">
            </div>
        <button class="ofertas-prev">‚ùÆ</button>
        <button class="ofertas-next">‚ùØ</button>
        <div class="ofertas-dots"></div>
    </div>
</section>

  <!-- DESTAQUES -->
  <section>
    <h2>DESTAQUES</h2>
    <div id="destaques-grid" class="produtos-grid"></div>
  </section>
  <!-- Se√ß√£o de Chama Cat√°logo -->
    <section style="text-align: center; margin: 40px 0;">
    <h2 style="color: #28a745; font-size: 28px; font-weight: bold;">
        Bem-vindo √† Farm√°cias Real
    </h2>
    <p style="font-size: 16px; color: #333; margin: 15px 0;">
        Confira todas as nossas ofertas, medicamentos, perfumaria e muito mais!
    </p>

    <a href="catalogo.html" 
       style="display: inline-block; 
              padding: 14px 30px; 
              background-color: #28a745; 
              color: white; 
              font-size: 18px; 
              font-weight: bold; 
              border-radius: 8px; 
              text-decoration: none; 
              transition: background-color 0.3s;">
       üìó Ver Cat√°logo Completo
    </a>
</section>
    <!-- Se√ß√£o de Localiza√ß√£o -->
    <section style="padding:40px 20px; text-align:center; background:#f9f9f9;">
        <h2>üìç Onde estamos</h2>
        <p>Pra√ßa Ladislau Cavalcante, 165 - Centro - Esplanada/BA</p>
        <div style="margin-top:20px;">
            <iframe 
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7791.781209691481!2d-37.9383!3d-11.5267!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x7153f186ae9f7ff%3A0x6a1c77d41d8c52b8!2sPra%C3%A7a%20Ladislau%20Cavalcante%2C%20165%20-%20Centro%2C%20Esplanada%20-%20BA%2C%2048370-000!5e0!3m2!1spt-BR!2sbr!4v1700000000000!5m2!1spt-BR!2sbr" 
                width="100%" 
                height="350" 
                style="border:0; border-radius:12px;" 
                allowfullscreen="" 
                loading="lazy" 
                referrerpolicy="no-referrer-when-downgrade">
            </iframe>
        </div>
    </section>
    <footer class="footer">
        <img src="imagem/logo-anvisa.png" alt="Anvisa" class="logo-anvisa"> 
            <p>A FARM√ÅCIAS REAL segue as determina√ß√µes da Anvisa. As informa√ß√µes contidas neste site n√£o devem ser usadas para automedica√ß√£o e n√£o substituem, em hip√≥tese alguma, as orienta√ß√µes dadas pelo profissional da √°rea m√©dica. Somente o m√©dico est√° apto a diagnosticar qualquer problema de sa√∫de e prescrever o tratamento adequado.</p>
            <p>Raz√£o Social: BRANT E FIRMO LTDA | Nome Fantasia: REDE FARM√ÅCIA REAL - DROGARIA E PERFUMARIA | CNPJ: 11.767.169/0001-98</p>
            <p>Endere√ßo: Pra√ßa Ladislau Cavalcante, 165 - Centro - Esplanada/BA, CEP: 48370-000 | Hor√°rio de Atendimento: Das 08:00 √†s 21:00</p>
            <p>Farmac√™utico Respons√°vel: Danielle Santana Cruz | CRF/BA: 19535 | AFE: 0.99.396-2 | SAC: Tel.: (75) 9-9862-3295</p>
            <p>Os pre√ßos e as promo√ß√µes s√£o v√°lidos apenas para compras via internet. As fotos contidas em nosso site s√£o meramente ilustrativas. *Pre√ßos e disponibilidade sujeitos a altera√ß√µes no decorrer do dia.</p>
        </footer>

    <!-- BOT√ÉO WHATSAPP FIXO -->
  <div class="whatsapp-fixo">
    <a href="https://wa.me/557598623295" target="_blank">
      <img src="imagem/whatsapp.png" alt="WhatsApp">
    </a>
  </div>
   
<!-- Script Aviso -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>    
<script>
document.addEventListener("DOMContentLoaded", async () => {
  const avisoTopo = document.getElementById("aviso-topo");

  const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRJFEgAJiV1cifj5vyuf47J4UyydN0711fSfAN_ICgf7LVA0JK7AVaHIFhCZPiV5HbprA91d4kvjPvn/pub?output=csv";

  try {
    const resp = await fetch(CSV_URL);
    if (!resp.ok) throw new Error("Erro ao buscar aviso: " + resp.status);

    const csvText = await resp.text();
    const parsed = Papa.parse(csvText, { header: true, skipEmptyLines: true });

    console.log("Avisos lidos:", parsed.data);

    let mensagem = "";

    // 1¬∫ tenta encontrar coluna chamada "mensagem"
    if (parsed.data.length > 0) {
      if (parsed.data[0].mensagem) {
        mensagem = parsed.data[0].mensagem.trim();
      } else {
        // 2¬∫ fallback: pega a primeira c√©lula da primeira linha
        const firstRow = Object.values(parsed.data[0]);
        if (firstRow.length > 0) {
          mensagem = firstRow[0].trim();
        }
      }
    }

    if (mensagem) {
      avisoTopo.textContent = mensagem;
      avisoTopo.style.display = "block";
    } else {
      avisoTopo.style.display = "none"; // n√£o mostra nada
    }
  } catch (err) {
    console.error("Erro ao carregar aviso topo:", err);
    avisoTopo.style.display = "none";
  }
});
</script>
<script>
window.addEventListener('load', ajustarCarrossel);
window.addEventListener('resize', ajustarCarrossel);

function ajustarCarrossel() {
  const aviso = document.getElementById('aviso-topo');
  const header = document.querySelector('header');
  const menu = document.querySelector('.main-menu');
  const carousel = document.querySelector('.carousel');

  const alturaTotal = (aviso ? aviso.offsetHeight : 0)
                    + (header ? header.offsetHeight : 0)
                    + (menu ? menu.offsetHeight : 0);

  if(carousel){
    carousel.style.marginTop = alturaTotal + 'px';
  }
}
</script>
    
<!-- ================= PROMO√á√ïES AUTOM√ÅTICAS ================= -->   
<!-- PapaParse -->
<script>
  document.addEventListener('DOMContentLoaded', async () => {
    const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTPFvGL_R8uI0miwFf-ApxEfOsqIMiLv4px-xkHTbkmRhvyUgsF9eJlxTJXi7mCX2x7vFKfEoBJ3TLN/pub?output=csv";

    try {
      const resp = await fetch(CSV_URL);
      if (!resp.ok) throw new Error('Erro ao buscar CSV: ' + resp.status);

      const csvText = await resp.text();
      const parsed = Papa.parse(csvText, { header: true, skipEmptyLines: true });

      const ofertasSlides = document.querySelector(".ofertas-slides");
const destaquesGrid = document.getElementById("destaques-grid"); // Mantemos o grid para destaques

parsed.data.forEach(produto => {
  const categoria = (produto["categoria"] || "").toLowerCase();
  const nome = produto["nome"] || "Produto";
  const preco = produto["preco"] || "";
  const preco_antigo = produto["preco_antigo"] || "";
  const imagem = produto["imagem"] || "imagem/placeholder.png";
  const tag = produto["tag"] || "";
  const link = produto["link"] || "#";
  
  // Link para o WhatsApp
  const whats = "5575998623295"; // Seu n√∫mero fixo
  const waText = encodeURIComponent(`Ol√°, quero este produto: ${nome}`);
  const waLink = `https://wa.me/${whats}?text=${waText}`;

  const card = document.createElement("div");
  card.className = "promo-item";

  card.innerHTML = `
    <img src="${imagem}" alt="${nome}">
    <h3>${nome}</h3>
    ${preco_antigo ? `<p class="preco-antigo">R$${preco_antigo}</p>` : ""}
    <p class="price">R$${preco} ${tag ? `<span class="tag">${tag}</span>` : ""}</p>
    <a href="${waLink}" class="btn-comprar" target="_blank" rel="noopener noreferrer">COMPRAR</a>
  `;

  if (categoria === "oferta") {
    ofertasSlides.appendChild(card); // Adiciona ao carrossel
  } else if (categoria === "destaque") {
    destaquesGrid.appendChild(card); // Mant√©m no grid de destaques
  }
});

// Adicionar a l√≥gica de navega√ß√£o do carrossel de ofertas
const ofertasCarousel = document.querySelector('.ofertas-carousel');
const ofertasSlidesContainer = document.querySelector('.ofertas-slides');
const ofertasPrevBtn = document.querySelector('.ofertas-prev');
const ofertasNextBtn = document.querySelector('.ofertas-next');

if (ofertasPrevBtn && ofertasNextBtn) {
    ofertasNextBtn.addEventListener('click', () => {
        ofertasSlidesContainer.scrollBy({
            left: ofertasSlidesContainer.offsetWidth,
            behavior: 'smooth'
        });
    });

    ofertasPrevBtn.addEventListener('click', () => {
        ofertasSlidesContainer.scrollBy({
            left: -ofertasSlidesContainer.offsetWidth,
            behavior: 'smooth'
        });
    });
}
});

    } catch (err) {
      console.error("Erro carregando produtos:", err);
    }
  });
</script>
</body>
</html>
